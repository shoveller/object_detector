(this.webpackJsonpobject_detector=this.webpackJsonpobject_detector||[]).push([[0],{291:function(e,t,n){},297:function(e,t){},298:function(e,t){},306:function(e,t){},321:function(e,t,n){"use strict";n.r(t);var r=n(83),c=n(81),a=n.n(c),i=n(244),u=n.n(i),o=(n(291),n(11)),s=n.n(o),d=n(15),f=(n(319),n(318),n(266)),p=function(){var e=Object(d.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",t.detect(n));case 4:throw e.prev=4,e.t0=e.catch(0),e.t0;case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.load)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=n(5),h=function(e){var t=e.current;if(t){var n=t.getContext("2d");return n||void 0}},b=1e3/30,j=function e(t,n,r,c,a,i){t.paused||t.ended||(n.drawImage(t,0,0,r,c),i&&i(t,n,r,c,a),setTimeout((function(){return e(t,n,r,c,a,i)}),b))},x=function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(s.a.mark((function e(t,n,r,c,a,i){var u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=4;break}return e.next=3,a();case 3:u=e.sent;case 4:return e.next=6,x();case 6:n.srcObject=e.sent,n.addEventListener("loadeddata",(function(){n.play(),setTimeout((function(){return j(n,t,r,c,u,i)}),b)}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,c,a,i){return e.apply(this,arguments)}}(),w=Object(c.createContext)({ctx:void 0,setCtx:void 0,video:void 0,setVideo:void 0}),g=function(e){var t=Object(c.useState)(e.ctx),n=Object(l.a)(t,2),a=n[0],i=n[1],u=Object(c.useState)(e.video),o=Object(l.a)(u,2),s=o[0],d=o[1];return Object(r.jsx)(w.Provider,{value:{ctx:a,setCtx:i,video:s,setVideo:d},children:e.children})},m=function(e){var t=Object(c.createRef)(),n=document.createElement("video"),a=e.width,i=e.height,u=e.children,o=e.onReady,s=e.onDraw;Object(c.useEffect)((function(){var e=h(t);e&&O(e,n,a,i,o,s)}),[t,n,a,i,s,o]);var d=h(t);return Object(r.jsx)("canvas",{ref:t,width:a,height:i,children:Object(r.jsx)(g,{ctx:d,video:n,children:u})})},y=function(e,t,n,r,c){if(null===c||void 0===c?void 0:c.length){n.fillStyle="#000000",n.fillRect(0,0,e,t),n.drawImage(r,0,0,e,t);for(var a=0;a<c.length;a+=1){n.font="16px Arial",n.fillStyle="green";var i=Object(l.a)(c[a].bbox,4),u=i[0],o=i[1],s=i[2],d=i[3];n.fillText("".concat(c[a].class," ").concat((100*c[a].score).toFixed(0),"%"),u+4,o+16),n.beginPath(),n.rect(u,o,s,d),n.strokeStyle="green",n.stroke(),n.closePath()}}};var k=function(){var e=function(){var e=Object(d.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(d.a)(s.a.mark((function e(t,n,r,c,a){var i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(a,t);case 2:i=e.sent,y(r,c,n,t,i);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,c,a){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)("header",{className:"App-header",children:Object(r.jsx)(m,{width:640,height:480,onReady:e,onDraw:t})})})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,322)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};u.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(k,{})}),document.getElementById("root")),C()}},[[321,1,2]]]);
//# sourceMappingURL=main.b659ce18.chunk.js.map